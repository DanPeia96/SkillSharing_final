<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"><head>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Registro de un publicación</title>
</head>
<body>

<!--HEADER -->
<div th:replace="fragments/top" ></div>

<main>
  <h2 align="center"><font face="arial black">Registrar una publicación</font></h2>
  <br>
  <form class="form-horizontal vermas" action="#" th:action="@{/oferta/add}" th:object="${oferta}" method="post">
    <table>
      <tr>
        <td>¿Cuándo puedes empezar?</td>
        <td><input type="date" class="form-control" th:field="*{fecha_inicio}"></td>
        <td><p th:if="${#fields.hasErrors('fecha_inicio')}" th:errors="*{fecha_inicio}" class="error"></p></td>
      </tr>

      <tr>
        <td>¿Cuándo acaba?</td>
        <td><input type="date" class="form-control" th:field="*{fecha_fin}"></td>
        <td><p th:if="${#fields.hasErrors('fecha_fin')}" th:errors="*{fecha_fin}" class="error"></p></td>
      </tr>

      <tr>
        <td>¿Oferta o Demanda?</td>
        <td>
          <select class="form_control" type="text" th:field="*{tipo}">
            <option value="">Selecciona el tipo</option>
            <option value="TRUE">Oferta</option>
            <option value="FALSE">Demanda</option>
          </select>
        </td>
      </tr>

      <tr>
        <td>Habilidad y nivel: </td>
        <td>
          <select class="form_control" type="text" th:field="*{nombre_habilidad}">
            <option value="0">Selecciona una habilidad</option>
            <div th:each="habilidad: ${habilidades}">
              <option th:if="${habilidad.nivel}==1" th:value="${habilidad.nombre +' '+ habilidad.nivel}" th:text="${habilidad.nombre + ' Bajo'}"></option>
              <option th:if="${habilidad.nivel}==2" th:value="${habilidad.nombre +' '+ habilidad.nivel}" th:text="${habilidad.nombre + ' Medio'}"></option>
              <option th:if="${habilidad.nivel}==3" th:value="${habilidad.nombre +' '+ habilidad.nivel}" th:text="${habilidad.nombre + ' Alto'}"></option>
            </div>
          </select>
        </td>
        <td>
          <p th:if="${#fields.hasErrors('nombre_habilidad')}" th:errors="*{nombre_habilidad}" class="error"></p>
        </td>
      </tr>

      <tr>
        <td>Descripción: </td>
        <td>
          <input type="text" class="form-control descripcion" th:field="*{descripcion}" placeholder="descripcion" style="heigth:150px" maxlength="500">
        </td>
        <td>
          <p th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}" class="error"></p>
        </td>
      </tr>
    </table>


    <div class="form-group row">
      <br>
      <div align="center" class="container">
        <button type="submit" class="btn btn-success"><font size="4">Registrar</font></button>
      </div>
      <div><br><br>
      </div>


      <div align="center" class="container">
        <a class="btn btn-default" th:href="@{/oferta/misofertas}" role="button" ><font size="4">Volver</font></a>
        <a class="btn btn-secondary" href="/usuarios/sesionAlumno" role="button" ><i class="bi bi-house"></i> Menú Principal</a>
      </div>



    </div>

  </form>
</main>

<!--FOOTER -->
<div th:replace="fragments/base" ></div>

</body>
</html>
